use super::*;
use crate::mock::*;
use crate::mock::{new_tester, AccountId};
use crate::Error;
use crate::Pallet;
use frame_support::{assert_noop, assert_ok};
use fuso_support::constants::RESERVE_FOR_STAKING;
use fuso_support::constants::*;
use pallet_fuso_token::XToken;
use sp_keyring::AccountKeyring;
use sp_runtime::MultiAddress;
use codec::Decode;

type Token = pallet_fuso_token::Pallet<Test>;
type Verifier = Pallet<Test>;

#[test]
pub fn register_should_work() {
    new_tester().execute_with(|| {
        let alice: AccountId = AccountKeyring::Alice.into();
        let charlie: AccountId = AccountKeyring::Charlie.into();
        frame_system::Pallet::<Test>::set_block_number(15);
        assert_ok!(Verifier::register(
            Origin::signed(alice.clone()),
            b"cool".to_vec()
        ));
        let alice_dominator = Verifier::dominators(&alice);
        assert!(alice_dominator.is_some());
        assert_noop!(
            Verifier::register(Origin::signed(charlie.clone()), b"cool".to_vec()),
            Error::<Test>::InvalidName
        );
        assert_noop!(
            Verifier::register(Origin::signed(alice.clone()), b"cooq".to_vec()),
            Error::<Test>::DominatorAlreadyExists
        );
    });
}

#[test]
pub fn test_stake_unstake_should_work() {
    new_tester().execute_with(|| {
        let alice: AccountId = AccountKeyring::Alice.into();
        let ferdie: AccountId = AccountKeyring::Ferdie.into();
        let bob: AccountId = AccountKeyring::Bob.into();
        frame_system::Pallet::<Test>::set_block_number(15);
        assert_noop!(
            Verifier::stake(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                10000
            ),
            Error::<Test>::DominatorNotFound
        );
        assert_ok!(Verifier::register(
            Origin::signed(alice.clone()),
            b"cool".to_vec()
        ));

        //bob don't have enough TAO
        assert_noop!(
            Verifier::stake(
                Origin::signed(bob.clone()),
                MultiAddress::Id(alice.clone()),
                10000
            ),
            pallet_balances::Error::<Test>::InsufficientBalance
        );
        assert_ok!(Verifier::stake(
            Origin::signed(ferdie.clone()),
            MultiAddress::Id(alice.clone()),
            1000
        ));
        let alice_dominator: Dominator<u128, u32> = Verifier::dominators(&alice).unwrap();
        assert_eq!(alice_dominator.staked, 1000);
        assert_eq!(alice_dominator.status, DOMINATOR_INACTIVE);
        let reserves = Verifier::reserves(&(RESERVE_FOR_STAKING, ferdie.clone(), 0u32), &alice);
        assert_eq!(reserves, 1000);

        assert_ok!(Verifier::stake(
            Origin::signed(ferdie.clone()),
            MultiAddress::Id(alice.clone()),
            9000
        ));
        let alice_dominator: Dominator<u128, u32> = Verifier::dominators(&alice).unwrap();
        assert_eq!(alice_dominator.staked, 10000);
        assert_eq!(alice_dominator.status, DOMINATOR_ACTIVE);
        let reserves = Verifier::reserves(&(RESERVE_FOR_STAKING, ferdie.clone(), 0u32), &alice);
        assert_eq!(reserves, 10000);

        assert_noop!(
            //50 < MinimalStakingAmount(100)
            Verifier::stake(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                50
            ),
            Error::<Test>::LittleStakingAmount
        );
        let reserves = Verifier::reserves(&(RESERVE_FOR_STAKING, ferdie.clone(), 0u32), &alice);
        assert_eq!(reserves, 10000);
        assert_noop!(
            //10000-9990 < MinimalStakingAmount(100)
            Verifier::unstake(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                9990
            ),
            Error::<Test>::LittleStakingAmount
        );
        let reserves = Verifier::reserves(&(RESERVE_FOR_STAKING, ferdie.clone(), 0u32), &alice);
        assert_eq!(reserves, 10000);
        assert_ok!(Verifier::unstake(
            Origin::signed(ferdie.clone()),
            MultiAddress::Id(alice.clone()),
            9000
        ));
        let reserves = Verifier::reserves(&(RESERVE_FOR_STAKING, ferdie.clone(), 0u32), &alice);
        assert_eq!(reserves, 1000);
        assert_noop!(
            Verifier::unstake(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                5000
            ),
            Error::<Test>::InsufficientBalance
        );
        let alice_dominator: Dominator<u128, u32> = Verifier::dominators(&alice).unwrap();
        assert_eq!(alice_dominator.staked, 1000);
        assert_eq!(alice_dominator.status, DOMINATOR_INACTIVE);
    });
}

const ONE: u128 = 1000000000000000000;

#[test]
pub fn test_authorize() {
    new_tester().execute_with(|| {
        let alice: AccountId = AccountKeyring::Alice.into();
        let ferdie: AccountId = AccountKeyring::Ferdie.into();
        frame_system::Pallet::<Test>::set_block_number(15);
        assert_ok!(Token::issue(
            Origin::signed(ferdie.clone()),
            6,
            true,
            br#"USDT"#.to_vec(),
            br#"usdt.testnet"#.to_vec(),
        ));
        assert_ok!(Token::do_mint(1, &ferdie, 10000000, None));
        // assert_ok!(Token::issue(
        //     Origin::signed(ferdie.clone()),
        //     10000000000000000000,
        //     br#"USDT"#.to_vec()
        // ));
        let token_info = Token::get_token_info(1);
        assert!(token_info.is_some());
        let token_info: XToken<u128> = token_info.unwrap();
        match token_info {
            XToken::NEP141(_, _, total, _, _) => {
                assert_eq!(total, 10000000000000000000);
            }
        }
        assert_ok!(Verifier::register(
            Origin::signed(alice.clone()),
            b"cool".to_vec()
        ));
        assert_noop!(
            Verifier::authorize(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                1,
                500000000000
            ),
            Error::<Test>::DominatorInactive
        );
        assert_ok!(Verifier::stake(
            Origin::signed(ferdie.clone()),
            MultiAddress::Id(alice.clone()),
            10000
        ));
        assert_noop!(
            Verifier::authorize(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                1,
                5000000000000000000000000
            ),
            Error::<Test>::InsufficientBalance
        );
        let reserves = Verifier::reserves(&(RESERVE_FOR_AUTHORIZING, ferdie.clone(), 1u32), &alice);
        assert_eq!(reserves, 0);

        assert_noop!(
            Verifier::authorize(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                0,
                5000000000000000000000000
            ),
            Error::<Test>::InsufficientBalance
        );
        assert_ok!(Verifier::authorize(
            Origin::signed(ferdie.clone()),
            MultiAddress::Id(alice.clone()),
            1,
            100000
        ));
        let reserves = Verifier::reserves(
            &(RESERVE_FOR_AUTHORIZING_STASH, ferdie.clone(), 1u32),
            &alice,
        );
        assert_eq!(reserves, 100000);
        let t = Verifier::reserves(
            (RESERVE_FOR_AUTHORIZING_STASH, ferdie.clone(), 1),
            alice.clone(),
        );
        assert_eq!(t, 100000);
        assert_noop!(
            Verifier::authorize(
                Origin::signed(ferdie.clone()),
                MultiAddress::Id(alice.clone()),
                1,
                1000000
            ),
            Error::<Test>::ReceiptAlreadyExists
        );
        let t = Verifier::reserves(
            (RESERVE_FOR_AUTHORIZING_STASH, ferdie.clone(), 1),
            alice.clone(),
        );
        assert_eq!(t, 100000);
    });
}

#[test]
pub fn test_proof() {
        new_tester().execute_with(|| {
            let mut proof_raws = vec![
                "0100000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D04001B000080F64AE1C7022D15049400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D000000000000000000000000000000000000000000000000000000000000000000000000000080F64AE1C7022D150000000000000000000000000000000000000000000000000C4C4F00D27A96327B015F5A3209C5CE271530808BFFA7CA815A87904459F7915D9F4341",
                "02000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4804001B000080F64AE1C7022D150494008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48000000000000000000000000000000000000000000000000000000000000000000000000000080F64AE1C7022D150000000000000000000000000000000000000000000000001D014C4FFE51FE0FBBBFF2F71BC27DBE7AD849B014D15ECE82549679A874A4B8C3502AEF04C895BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA7367334F0140CF0F6E3265B1177F618EBBAB545803C52DA7E4FBF398034DE3B5F9CDA43C8E",
                "02000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4804001B000080F64AE1C7022D150494008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48000000000000000000000000000000000000000000000000000000000000000000000000000080F64AE1C7022D150000000000000000000000000000000000000000000000001D014C4FFE51FE0FBBBFF2F71BC27DBE7AD849B014D15ECE82549679A874A4B8C3502AEF04C895BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA7367334F0140CF0F6E3265B1177F618EBBAB545803C52DA7E4FBF398034DE3B5F9CDA43C8E",
                "04000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4804041B000080F64AE1C7022D150494008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48010000000000000000000000000000000000000000000000000000000000000000000000000080F64AE1C7022D15000000000000000000000000000000000000000000000000A1014C4FFB51FBBF171D5611729023EB00C9E29FAC6AFF773B8D7AA3484FA5E3BB57F21BF128B4A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F035053EDBF4621C426A65859B278816A81B6176D4117A2D2225BE06DA11AF1E699A472FF9CC49C89219B3B7E57545AE907D6867D354765DE380FE5F921207F8222A2",
                "0600000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00130000E8890423C78A130000B2D3595BF00600000004142401000000000100000000000000000000000000000000000000000000000000000000000000000000000000B2D3595BF0060000000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00000000000080F64AE1C7022D15000000000000000000000000000000000000000000000000CE22F185D7FB2C150000000000000000B2D3595BF00600000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D01000000000080F64AE1C7022D1500000000000000000000000000000000000000000000000080F64AE1C7022D15000000000000000000000000000000000000000000002402000000000100000000000000000000000000000000000000000000000000000000000000000000000000E8890423C78A000000000000000000000000000000000000000000000000640300000000010000000000E8890423C78A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B2D3595BF006000000000000000001006D024C4FFA51FA00308C92EDF25E6C7D79040F967C8BB4A0DFFE212E075B15FFD5DB5F9AE5585525A1537225467488BC0836DFA3B1E94DB6FE04D7B8C337E05BD52F2D1D54FF024F024C4FFD484C4FFD4C4FFD48484C4FFB51FB4293F5BCA57AEE26DC07619484AD3787F152BBC4630A450C4F4DD80F81BAA1719D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F0348614D56E1E0580EC1C1CE0DD1DF5B3C4AF7F9D1948753B55394FD2585D063D43C",
                "0700000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00130000E8890423C78A1300003C31D2A053080000000414240100000000010000000000B2D3595BF0060000000000000000000000000000000000000000000000000000EE042CFC430F0000000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D000000000000CE22F185D7FB2C150000000000000000B2D3595BF0060000000000000000000092F11EE583F32C150000000000000000EE042CFC430F00000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D01000000000080F64AE1C7022D1500000000000000000000000000000000000000000000000080F64AE1C7022D1500000000000000000000000000000000000000000000240200000000010000000000E8890423C78A0000000000000000000000000000000000000000000000000000E8890423C78A000000000000000000000000000000000000000000000000640300000000010000000000E8890423C78A0000000000000000000000000000000000000000000000000000B2D3595BF0060000000000000000000000000000000000000000000000000000EE042CFC430F000000000000000001006D024C4FFA51FA00308C92EDF25E6C7D79040F967C8BB4A0DFFE212E075B15FFD5DB5F9AE5585525A1537225467488BC0836DFA3B1E94DB6FE04D7B8C337E05BD52F2D1D54FF024F024C4FFD484C4FFD4C4FFD48484C4FFB51FB4293F5BCA57AEE26DC07619484AD3787F152BBC4630A450C4F4DD80F81BAA1719D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F03489398DA7B504D25B56CF3E8A0D23B058C4E413B51FFFD8069596054B183289D53",
                "0800000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D001300005E2C8CDD63891300008A5D784563010000000414240100000000010000000000EE042CFC430F00000000000000000000000000000000000000000000000000007862A441A7100000000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00000000000092F11EE583F32C150000000000000000EE042CFC430F000000000000000000000894A69F20F22C1500000000000000007862A441A71000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D01000000000080F64AE1C7022D1500000000000000000000000000000000000000000000000080F64AE1C7022D1500000000000000000000000000000000000000000000240200000000010000000000E8890423C78A00000000000000000000000000000000000000000000000000005E2C8CDD63890000000000000000000000000000000000000000000000006403000000000100000000005E2C8CDD6389000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008A5D78456301000000000000000001006D024C4FFD5102F8B0F2523EFCEDAA186B8983EEA32C3AECE5D0F8ABE36D0D5D2EDA4A29B14FCB00000000000000000000000000000000000000000000000000000000000000104C4FF84C4FF8484F044C4FFD48484C4FFB51FB4293F5BCA57AEE26DC07619484AD3787F152BBC4630A450C4F4DD80F81BAA1719D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F034823F1BD23A43DC72BE4FCAB42694BC65D8869D654A1B23D90AE18067F2B41099F",
                "09000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF006000000041C2401000000000100000000007862A441A7100000000000000000000000000000000000000000000000000000EE042CFC430F000000000000000000002876E1158D0500000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0000000000000894A69F20F22C1500000000000000007862A441A710000000000000000000000894A69F20F22C150000000000000000EE042CFC430F00000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D01000000000080F64AE1C7022D15000000000000000000000000000000000000000000000000232E0C1185102D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4800000000000080F64AE1C7022D150000000000000000000000000000000000000000000000000A54C3262B042D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4801000000000080F64AE1C7022D1500000000000000000000000000000000000000000000000051E084F215BE2C1500000000000000008CDE04BFF43600000000000000002402000000000100000000005E2C8CDD63890000000000000000000000000000000000000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD638900000000000000000000000000000000000000000000000000008A5D7845630100000000000000000000000000000000000000000000000000002876E1158D05000000000000000001028D014C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F044C4FFD48484C4FFB4C4FFB484F03485B11DDA744DEB008C58D047F22A877AC66FF9EB682606BD770204B5C6627ACF8",
                "0A000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F000000000000000000002876E1158D0500000000000000000000EE042CFC430F00000000000000000000DA493B717D0C000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480000000000000A54C3262B042D150000000000000000000000000000000000000000000000000A54C3262B042D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4801000000000051E084F215BE2C1500000000000000008CDE04BFF4360000000000000000000022CABE0364792C150000000000000000BBF4CAADA67B0000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD638900000000000000000000000000000000000000000000000000002876E1158D050000000000000000000000000000000000000000000000000000DA493B717D0C000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FD0F687631A548FF0153E0BB017948A891A81D6BD6B0DD053A1B18439E6C5FD685BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB0E16B6DFBD8980B12C50B62E1EC7C58C4D8948309D35149F0E4AA20DF8251930A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F034868C7AC8B41690A4926D0C3588C6EDF2AD893CB46D922EA89278A92177E1AEFF1",
                "0B000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F00000000000000000000DA493B717D0C00000000000000000000EE042CFC430F000000000000000000008C1D95CC6D13000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480000000000000A54C3262B042D150000000000000000000000000000000000000000000000000A54C3262B042D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4801000000000022CABE0364792C150000000000000000BBF4CAADA67B00000000000000000000F3B3F814B2342C150000000000000000EA0A919C58C00000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD63890000000000000000000000000000000000000000000000000000DA493B717D0C00000000000000000000000000000000000000000000000000008C1D95CC6D13000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FD0F687631A548FF0153E0BB017948A891A81D6BD6B0DD053A1B18439E6C5FD685BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB0E16B6DFBD8980B12C50B62E1EC7C58C4D8948309D35149F0E4AA20DF8251930A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F034879B2EE89AFE538D386A9B62367709BA9B441BB275AF39B4222FECD54AEE98B71",
                "0C000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F000000000000000000008C1D95CC6D1300000000000000000000EE042CFC430F000000000000000000003EF1EE275E1A000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480000000000000A54C3262B042D150000000000000000000000000000000000000000000000000A54C3262B042D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48010000000000F3B3F814B2342C150000000000000000EA0A919C58C000000000000000000000C49D322600F02B1500000000000000001921578B0A050100000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD638900000000000000000000000000000000000000000000000000008C1D95CC6D1300000000000000000000000000000000000000000000000000003EF1EE275E1A000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FD0F687631A548FF0153E0BB017948A891A81D6BD6B0DD053A1B18439E6C5FD685BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB0E16B6DFBD8980B12C50B62E1EC7C58C4D8948309D35149F0E4AA20DF8251930A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F03486EAB95EEC87C0BFA679C63D54386CD8C8CC492C79CDE30A26E27D613A3FA38C1",
                "0D000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F000000000000000000003EF1EE275E1A00000000000000000000EE042CFC430F00000000000000000000F0C448834E21000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480000000000000A54C3262B042D150000000000000000000000000000000000000000000000000A54C3262B042D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48010000000000C49D322600F02B1500000000000000001921578B0A050100000000000000000095876C374EAB2B15000000000000000048371D7ABC490100000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD638900000000000000000000000000000000000000000000000000003EF1EE275E1A0000000000000000000000000000000000000000000000000000F0C448834E21000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FD0F687631A548FF0153E0BB017948A891A81D6BD6B0DD053A1B18439E6C5FD685BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB0E16B6DFBD8980B12C50B62E1EC7C58C4D8948309D35149F0E4AA20DF8251930A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F034817F57BBAD1D51C2529EDD4BBBF854D2DEEDD05A2EDBABBBA5C5213739ACE8114",
                "0E00000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00130000F44482916345130000E8890423C78A0000000420240100000000010000000000EE042CFC430F00000000000000000000F0C448834E2100000000000000000000E6C9E79BBC7800000000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480000000000000A54C3262B042D15000000000000000000000000000000000000000000000000FA180CAA79252D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4801000000000095876C374EAB2B15000000000000000048371D7ABC490100000000000000000095876C374EAB2B15000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0000000000000894A69F20F22C150000000000000000EE042CFC430F00000000000000000000200AA27C59672C150000000000000000E6C9E79BBC7800000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D010000000000232E0C1185102D150000000000000000000000000000000000000000000000006B65298B415A2E1500000000000000000000000000000000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000F444829163450000000000000000000000000000000000000000000000006403000000000100000000005E2C8CDD63890000000000000000000000000000000000000000000000000000F0C448834E2100000000000000000000000000000000000000000000000000000000000000000000000000000000640300000000010000000000F4448291634500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F8C4BB9F7869000000000000000002029D014C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F044C4FFD48484C4FFE4C4FFB4C4FFB484F024848763B0CD67628F3E2B0EED781A4398E4A570DFF92EF3877EB9F94530125B46AAD",
                "0F00000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D01130000BC93E9FE24611300008A5D784563010000000410240100000000010000000000E6C9E79BBC780000000000000000000000000000000000000000000000000000E6C9E79BBC780000000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D000000000000200AA27C59672C150000000000000000E6C9E79BBC7800000000000000000000200AA27C59672C150000000000000000E6C9E79BBC7800000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0100000000006B65298B415A2E150000000000000000000000000000000000000000000000006B65298B415A2E1500000000000000000000000000000000000000000000240200000000010000000000F444829163450000000000000000000000000000000000000000000000000000F4448291634500000000000000000000000000000000000000000000000000005D034C4FFD5102741C6EB0479742AA70E8926D0E4C91FB24A33AB63DF080859B9CCFC9F88E005100000000000000000000000000000000000000000000000000000000000000104C4FFD4C4FFD48484C4FFB51FBDAF9D68DFBFCCB9103087CB11031397FF8C6B82F9A5FBD123D5B64D4181B45859D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F0251FE2FA24F629C6973994DA89954A03489290C8649D5B8A15F9FFC021521D0E115A1BB191422F300F693BC2244445ECC9E12B5F4E7002602DEE8E5E2880567B71B1A48763B0CD67628F3E2B0EED781A4398E4A570DFF92EF3877EB9F94530125B46AAD",
                "1000000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D02000414240100000000010000000000E6C9E79BBC780000000000000000000000000000000000000000000000000000EE042CFC430F0000000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D000000000000200AA27C59672C150000000000000000E6C9E79BBC780000000000000000000018CF5D1CD2D02C150000000000000000EE042CFC430F00000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0100000000006B65298B415A2E150000000000000000000000000000000000000000000000006B65298B415A2E1500000000000000000000000000000000000000000000240200000000010000000000F444829163450000000000000000000000000000000000000000000000000000E8890423C78A000000000000000000000000000000000000000000000000640300000000010000000000F444829163450000000000000000000000000000000000000000000000000000F8C4BB9F786900000000000000000000000000000000000000000000000000000000000000000000000000000000010065024C4FFD5102741C6EB0479742AA70E8926D0E4C91FB24A33AB63DF080859B9CCFC9F88E005100000000000000000000000000000000000000000000000000000000000000104C4FFD4C4FFD48484C4FFE4C4FFB51FBDAF9D68DFBFCCB9103087CB11031397FF8C6B82F9A5FBD123D5B64D4181B45859D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F024848158B83FCB07299CB965F43387764805806FAD2F7C26B4B79450864DC9D62AC5F",
                "11000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F0000000000000000000000000000000000000000000000000000EE042CFC430F00000000000000000000B2D3595BF006000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48000000000000FA180CAA79252D15000000000000000000000000000000000000000000000000FA180CAA79252D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A4801000000000095876C374EAB2B150000000000000000000000000000000000000000000000006671A6489C662B1500000000000000002F16C6EEB1440000000000000000240200000000010000000000E8890423C78A0000000000000000000000000000000000000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD638900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B2D3595BF006000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FDAB3B76727E3162B4023B1EF6BA832222DD94CBFC3D03A20219FD17B4608EF516BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB1B5CDF9144089CDDF2ABBA7CB7463BC26D205C308EDA2B23F2087D8D0B088A18A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F03483FAEE5F157F8A2265EA5E02744924E66427A504005A14D330EF5B521949DE5C9",
                "12000000000000008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48011300005E2C8CDD6389130000B2D3595BF0060000000414240100000000010000000000EE042CFC430F00000000000000000000B2D3595BF00600000000000000000000EE042CFC430F0000000000000000000064A7B3B6E00D000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A48000000000000FA180CAA79252D15000000000000000000000000000000000000000000000000FA180CAA79252D150000000000000000000000000000000000000000000094008EAF04151687736326C9FEA17E25FC5287613693C912909CB226AA4794F26A480100000000006671A6489C662B1500000000000000002F16C6EEB14400000000000000000000375BE059EA212B1500000000000000005E2C8CDD63890000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000006403000000000100000000005E2C8CDD63890000000000000000000000000000000000000000000000000000B2D3595BF006000000000000000000000000000000000000000000000000000064A7B3B6E00D000000000000000001007D034C4FFA51FA54F553C68533B170501813FCAC0EBE6118ACB3B4B106D651BA7B667FFCEDE5580749A4EC0F796A2D60694F10D88FFE0F5D0F806C9805B3D7903C69348F9B60004F024C4FFD484C4FF84C4FF8484F0451FDAB3B76727E3162B4023B1EF6BA832222DD94CBFC3D03A20219FD17B4608EF516BA8D03A78B5756C19CACA83E72A62E409AFBEA0D85C176B9AAD1A06FCA736713484C4FFB51FB1B5CDF9144089CDDF2ABBA7CB7463BC26D205C308EDA2B23F2087D8D0B088A18A19639973A8640009A8A7AD562BEEA03DA2989721B848B1E9F11AFF7FED8AE034F0348EC095DB641D1DCB3586BDEFA1E2998955154205A63540BDB6AFB71B862BB469A",
                "1300000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D02000414240100000000010000000000EE042CFC430F0000000000000000000064A7B3B6E00D000000000000000000003C31D2A053080000000000000000000064A7B3B6E00D00000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D00000000000018CF5D1CD2D02C150000000000000000EE042CFC430F00000000000000000000CAA2B777C2D72C1500000000000000003C31D2A0530800000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0100000000006B65298B415A2E150000000000000000000000000000000000000000000000006B65298B415A2E1500000000000000000000000000000000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000E8890423C78A000000000000000000005E2C8CDD63890000000000000000640300000000010000000000E8890423C78A0000000000000000000000000000000000000000000000000000EE042CFC430F00000000000000000000000000000000000000000000000000003C31D2A05308000000000000000001007D034C4FFA51FAFCA4C77F17BCA5C34BD054F3F347064A4F232AE22E115608960868FA92E3DB7A25A1537225467488BC0836DFA3B1E94DB6FE04D7B8C337E05BD52F2D1D54FF024F024C4FFD484C4FF851F8875CB1570417B9656193A1597D8F13A8B36B9CE4553409864F70D7B3891162FD6EC29E8D2F4D75C843DA6F9DE9C71B3251F0EE27ED6953E14EFFD22BDD2EF2004F044C4FFD48484C4FFB51FBF9D2E17EBE04500C8ACB1652B771DB2E6514760772E51A3ACB8C5C00F3C325B09D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F0348FA486D4E32F2A23F98F2A0FD36AC2C1E86A1B5E00D9EA546014C09E2A8AD7ABF",
                "1400000000000000D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D020004142401000000000100000000003C31D2A053080000000000000000000064A7B3B6E00D000000000000000000000000000000000000000000000000000064A7B3B6E00D00000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D000000000000CAA2B777C2D72C1500000000000000003C31D2A053080000000000000000000006D4891816E02C15000000000000000000000000000000000000000000009400D43593C715FDD31C61141ABD04A99FD6822C8558854CCDE39A5684E7A56DA27D0100000000006B65298B415A2E150000000000000000000000000000000000000000000000006B65298B415A2E1500000000000000000000000000000000000000000000240200000000010000000000E8890423C78A000000000000000000005E2C8CDD638900000000000000000000000000000000000000000000000000005E2C8CDD63890000000000000000640300000000010000000000E8890423C78A00000000000000000000000000000000000000000000000000003C31D2A053080000000000000000000000000000000000000000000000000000000000000000000000000000000001007D034C4FFA51FAFCA4C77F17BCA5C34BD054F3F347064A4F232AE22E115608960868FA92E3DB7A25A1537225467488BC0836DFA3B1E94DB6FE04D7B8C337E05BD52F2D1D54FF024F024C4FFD484C4FF851F8875CB1570417B9656193A1597D8F13A8B36B9CE4553409864F70D7B3891162FD6EC29E8D2F4D75C843DA6F9DE9C71B3251F0EE27ED6953E14EFFD22BDD2EF2004F044C4FFD48484C4FFB51FBF9D2E17EBE04500C8ACB1652B771DB2E6514760772E51A3ACB8C5C00F3C325B09D2630A413AE0AE328EB48BF255ABA0F396CA7C7FAB8AD8B76E370129C6F43064F03483E8B7579426EBB5CC31D74954F7FA70002CFBE15E7533138D2468C4C23DC2283"
            ];
            let proofs: Vec<Proof<AccountId>> = proof_raws.iter_mut()
                .map(|proof|
                    Proof::decode(&mut hex::decode(proof.as_bytes()).unwrap().as_slice()).unwrap()
                ).collect();
            assert_eq!(proofs.len(), 19);
        });
}
